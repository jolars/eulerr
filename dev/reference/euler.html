<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Area-proportional Euler diagrams — euler • eulerr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Area-proportional Euler diagrams — euler"><meta property="og:description" content="Fit Euler diagrams (a generalization of Venn diagrams) using numerical
optimization to find exact or approximate solutions to a specification of set
relationships. The shape of the diagram may be a circle or an ellipse."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eulerr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">6.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/gallery.html">A Gallery of Euler and Venn Diagrams</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Introducing eulerr</a>
    </li>
    <li>
      <a href="../articles/loss-functions.html">loss-functions</a>
    </li>
    <li>
      <a href="../articles/under-the-hood.html">eulerr under the hood</a>
    </li>
    <li>
      <a href="../articles/venn-diagrams.html">Venn diagrams with eulerr</a>
    </li>
    <li>
      <a href="../articles/visualization.html">Visualizing Euler diagrams with eulerr</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jolars/eulerr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Area-proportional Euler diagrams</h1>
    <small class="dont-index">Source: <a href="https://github.com/jolars/eulerr/blob/HEAD/R/euler.R" class="external-link"><code>R/euler.R</code></a></small>
    <div class="hidden name"><code>euler.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Fit Euler diagrams (a generalization of Venn diagrams) using numerical
optimization to find exact or approximate solutions to a specification of set
relationships. The shape of the diagram may be a circle or an ellipse.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">euler</span><span class="op">(</span><span class="va">combinations</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for default</span></span>
<span><span class="fu">euler</span><span class="op">(</span></span>
<span>  <span class="va">combinations</span>,</span>
<span>  input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"disjoint"</span>, <span class="st">"union"</span><span class="op">)</span>,</span>
<span>  shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"circle"</span>, <span class="st">"ellipse"</span><span class="op">)</span>,</span>
<span>  loss <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sum_sq"</span>, <span class="st">"sum_abs"</span>, <span class="st">"sum_reg"</span>, <span class="st">"max_sq"</span>, <span class="st">"max_abs"</span>, <span class="st">"max_reg"</span><span class="op">)</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for data.frame</span></span>
<span><span class="fu">euler</span><span class="op">(</span></span>
<span>  <span class="va">combinations</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>  factor_names <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for matrix</span></span>
<span><span class="fu">euler</span><span class="op">(</span><span class="va">combinations</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for table</span></span>
<span><span class="fu">euler</span><span class="op">(</span><span class="va">combinations</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for list</span></span>
<span><span class="fu">euler</span><span class="op">(</span><span class="va">combinations</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>combinations</dt>
<dd><p>set relationships as a named numeric vector, matrix, or
data.frame (see <strong>methods (by class)</strong>)</p></dd>


<dt>...</dt>
<dd><p>arguments passed down to other methods</p></dd>


<dt>input</dt>
<dd><p>type of input: disjoint identities
(<code>'disjoint'</code>) or unions (<code>'union'</code>).</p></dd>


<dt>shape</dt>
<dd><p>geometric shape used in the diagram</p></dd>


<dt>loss</dt>
<dd><p>type of loss to minimize over. Losses starting with <code>sum</code> and
<code>max</code> minimize over the sum and max of the type of loss. Losses ending
with <code>sq</code> minimize the squares of the difference between the input and
the result in the diagram. Losses ending with <code>abs</code> minimize the
absolute value of the difference. Losses ending with <code>reg</code> minimize the</p></dd>


<dt>control</dt>
<dd><p>a list of control parameters.</p><ul><li><p><code>extraopt</code>: should the more thorough optimizer (currently
<code><a href="https://rdrr.io/pkg/GenSA/man/GenSA.html" class="external-link">GenSA::GenSA()</a></code>) kick in (provided <code>extraopt_threshold</code> is exceeded)? The
default is <code>TRUE</code> for ellipses and three sets and <code>FALSE</code> otherwise.</p></li>
<li><p><code>extraopt_threshold</code>: threshold, in terms of <code>diagError</code>, for when
the extra optimizer kicks in. This will almost always slow down the
process considerably. A value of 0 means
that the extra optimizer will kick in if there is <em>any</em> error. A value of
1 means that it will never kick in. The default is <code>0.001</code>.</p></li>
<li><p><code>extraopt_control</code>: a list of control parameters to pass to the
extra optimizer, such as <code>max.call</code>. See <code><a href="https://rdrr.io/pkg/GenSA/man/GenSA.html" class="external-link">GenSA::GenSA()</a></code>.</p></li>
</ul></dd>


<dt>weights</dt>
<dd><p>a numeric vector of weights of the same length as
the number of rows in <code>combinations</code>.</p></dd>


<dt>by</dt>
<dd><p>a factor or character matrix to be used in <code><a href="https://rdrr.io/r/base/by.html" class="external-link">base::by()</a></code> to
split the data.frame or matrix of set combinations</p></dd>


<dt>sep</dt>
<dd><p>a character to use to separate the dummy-coded factors
if there are factor or character vectors in 'combinations'.</p></dd>


<dt>factor_names</dt>
<dd><p>whether to include factor names when
constructing dummy codes</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list object of class <code>'euler'</code> with the following parameters.</p>
<dl><dt>ellipses</dt>
<dd><p>a matrix of <code>h</code> and <code>k</code> (x and y-coordinates for the
centers of the shapes), semiaxes <code>a</code> and <code>b</code>, and rotation angle <code>phi</code></p></dd>

<dt>original.values</dt>
<dd><p>set relationships in the input</p></dd>

<dt>fitted.values</dt>
<dd><p>set relationships in the solution</p></dd>

<dt>residuals</dt>
<dd><p>residuals</p></dd>

<dt>regionError</dt>
<dd><p>the difference in percentage points between each
disjoint subset in the input and the respective area in the output</p></dd>

<dt>diagError</dt>
<dd><p>the largest <code>regionError</code></p></dd>

<dt>stress</dt>
<dd><p>normalized residual sums of squares</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>If the input is a matrix or data frame and argument <code>by</code> is specified,
the function returns a list of euler diagrams.</p>
<p>The function minimizes the residual sums of squares,
$$
  \sum_{i=1}^n (A_i - \omega_i)^2,
$$
by default, where \(\omega_i\) the size of the ith disjoint subset, and
\(A_i\) the corresponding area in the diagram, that is, the unique
contribution to the total area from this overlap. The loss function
can, however, be controlled via the <code>loss</code> argument.</p>
<p><code>euler()</code> also returns <code>stress</code> (from <span class="pkg">venneuler</span>), as well as
<code>diagError</code>, and <code>regionError</code> from <span class="pkg">eulerAPE</span>.</p>
<p>The <em>stress</em> statistic is computed as</p>
<p>$$
  \frac{\sum_{i=1}^n (A_i - \beta\omega_i)^2}{\sum_{i=1}^n A_i^2},
$$
where
$$
  \beta = \sum_{i=1}^n A_i\omega_i / \sum_{i=1}^n \omega_i^2.
$$</p>
<p><code>regionError</code> is computed as</p>
<p>$$
  \left| \frac{A_i}{\sum_{i=1}^n A_i} - \frac{\omega_i}{\sum_{i=1}^n \omega_i}\right|.
$$</p>
<p><code>diagError</code> is simply the maximum of regionError.</p>
    </div>
    <div id="methods-by-class-">
    <h2>Methods (by class)</h2>
    
<ul><li><p><code>euler(default)</code>: a named numeric vector, with
combinations separated by an ampersand, for instance <code>A&amp;B = 10</code>.
Missing combinations are treated as being 0.</p></li>
<li><p><code>euler(data.frame)</code>: a <code>data.frame</code> of logicals, binary integers, or
factors.</p></li>
<li><p><code>euler(matrix)</code>: a matrix that can be converted to a data.frame of logicals
(as in the description above) via <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">base::as.data.frame.matrix()</a></code>.</p></li>
<li><p><code>euler(table)</code>: A table with <code>max(dim(x)) &lt; 3</code>.</p></li>
<li><p><code>euler(list)</code>: a list of vectors, each vector giving the contents of
that set (with no duplicates). Vectors in the list must be named.</p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    <p>Wilkinson L. Exact and Approximate Area-Proportional Circular
Venn and Euler Diagrams. IEEE Transactions on Visualization and Computer
Graphics (Internet). 2012 Feb (cited 2016 Apr 9);18(2):321-31. Available
from: <a href="https://doi.org/10.1109/TVCG.2011.56" class="external-link">doi:10.1109/TVCG.2011.56</a></p>
<p>Micallef L, Rodgers P. eulerAPE: Drawing Area-Proportional 3-Venn Diagrams
Using Ellipses. PLOS ONE (Internet). 2014 Jul (cited 2016 Dec
10);9(7):e101717. Available from:
<a href="https://doi.org/10.1371/journal.pone.0101717" class="external-link">doi:10.1371/journal.pone.0101717</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="plot.euler.html">plot.euler()</a></code>, <code><a href="print.euler.html">print.euler()</a></code>, <code><a href="eulerr_options.html">eulerr_options()</a></code>, <code><a href="venn.html">venn()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Fit a diagram with circles</span></span></span>
<span class="r-in"><span><span class="va">combo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>A <span class="op">=</span> <span class="fl">2</span>, B <span class="op">=</span> <span class="fl">2</span>, C <span class="op">=</span> <span class="fl">2</span>, <span class="st">"A&amp;B"</span> <span class="op">=</span> <span class="fl">1</span>, <span class="st">"A&amp;C"</span> <span class="op">=</span> <span class="fl">1</span>, <span class="st">"B&amp;C"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu">euler</span><span class="op">(</span><span class="va">combo</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Investigate the fit</span></span></span>
<span class="r-in"><span><span class="va">fit1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A            2  2.076    -0.076       0.021</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B            2  2.076    -0.076       0.021</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C            2  2.076    -0.076       0.021</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A&amp;B          1  0.605     0.395       0.040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A&amp;C          1  0.605     0.395       0.040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B&amp;C          1  0.605     0.395       0.040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A&amp;B&amp;C        0  0.494    -0.494       0.058</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0.058 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0.049 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Refit using ellipses instead</span></span></span>
<span class="r-in"><span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu">euler</span><span class="op">(</span><span class="va">combo</span>, shape <span class="op">=</span> <span class="st">"ellipse"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Investigate the fit again (which is now exact)</span></span></span>
<span class="r-in"><span><span class="va">fit2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A            2      2         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B            2      2         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C            2      2         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A&amp;B          1      1         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A&amp;C          1      1         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B&amp;C          1      1         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A&amp;B&amp;C        0      0         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot it</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="euler-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A set with no perfect solution</span></span></span>
<span class="r-in"><span><span class="fu">euler</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"a"</span> <span class="op">=</span> <span class="fl">3491</span>, <span class="st">"b"</span> <span class="op">=</span> <span class="fl">3409</span>, <span class="st">"c"</span> <span class="op">=</span> <span class="fl">3503</span>,</span></span>
<span class="r-in"><span>  <span class="st">"a&amp;b"</span> <span class="op">=</span> <span class="fl">120</span>, <span class="st">"a&amp;c"</span> <span class="op">=</span> <span class="fl">114</span>, <span class="st">"b&amp;c"</span> <span class="op">=</span> <span class="fl">132</span>,</span></span>
<span class="r-in"><span>  <span class="st">"a&amp;b&amp;c"</span> <span class="op">=</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a         3491   3491         0       0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b         3409   3409         0       0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c         3503   3503         0       0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a&amp;b        120    120         0       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a&amp;c        114    114         0       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b&amp;c        132    132         0       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a&amp;b&amp;c       50      0        50       0.005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0.005 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using grouping via the 'by' argument through the data.frame method</span></span></span>
<span class="r-in"><span><span class="fu">euler</span><span class="op">(</span><span class="va">fruits</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">sex</span>, <span class="va">age</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> female.adult </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana                     1  0.937     0.063       0.009</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> apple                      2  1.968     0.032       0.009</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> orange                     2  1.974     0.026       0.009</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;apple               4  4.028    -0.028       0.010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;orange              0  0.268    -0.268       0.024</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> apple&amp;orange               0  0.260    -0.260       0.023</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;apple&amp;orange        2  1.961     0.039       0.010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0.024 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0.005 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> male.child </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana                     3  2.994     0.006       0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> apple                      1  0.982     0.018       0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> orange                     1  0.981     0.019       0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;apple              10 10.004    -0.004       0.007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;orange              0  0.137    -0.137       0.008</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> apple&amp;orange               0  0.144    -0.144       0.008</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;apple&amp;orange        3  2.993     0.007       0.003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0.008 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> male.adult </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana                     3  3.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> apple                      2  2.003    -0.003       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> orange                     0  0.016    -0.016       0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;apple              10 10.000     0.000       0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;orange              0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> apple&amp;orange               1  0.996     0.004       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;apple&amp;orange        1  1.002    -0.002       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0.001 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> female.child </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana                     4      4         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> apple                      0      0         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> orange                     1      1         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;apple               4      4         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;orange              1      1         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> apple&amp;orange               0      0         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> banana&amp;apple&amp;orange        2      2         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using the matrix method</span></span></span>
<span class="r-in"><span><span class="fu">euler</span><span class="op">(</span><span class="va">organisms</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal                               0  0.582    -0.582       0.086</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal                               0  0.302    -0.302       0.044</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plant                                0  0.210    -0.210       0.031</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sea                                  0  0.430    -0.430       0.063</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> spiny                                0  0.166    -0.166       0.025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal                        2  1.817     0.183       0.018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;plant                         0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;sea                           1  0.612     0.388       0.053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;spiny                         0  0.215    -0.215       0.032</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;plant                         0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;sea                           1  0.000     1.000       0.143</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;spiny                         0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plant&amp;sea                            1  0.868     0.132       0.015</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plant&amp;spiny                          1  0.000     1.000       0.143</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sea&amp;spiny                            0  0.176    -0.176       0.026</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;plant                  0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;sea                    0  0.268    -0.268       0.040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;spiny                  0  0.061    -0.061       0.009</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;plant&amp;sea                     0  0.119    -0.119       0.018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;plant&amp;spiny                   0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;sea&amp;spiny                     1  0.715     0.285       0.037</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;plant&amp;sea                     0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;plant&amp;spiny                   0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;sea&amp;spiny                     0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plant&amp;sea&amp;spiny                      0  0.016    -0.016       0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;plant&amp;sea              0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;plant&amp;spiny            0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;sea&amp;spiny              0  0.177    -0.177       0.026</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;plant&amp;sea&amp;spiny               0  0.043    -0.043       0.006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;plant&amp;sea&amp;spiny               0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;plant&amp;sea&amp;spiny        0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0.143 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0.352 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using weights</span></span></span>
<span class="r-in"><span><span class="fu">euler</span><span class="op">(</span><span class="va">organisms</span>, weights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal                               0  0.789    -0.789       0.019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal                               0  0.360    -0.360       0.009</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plant                                0  0.099    -0.099       0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sea                                  0  0.409    -0.409       0.010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> spiny                                0  0.200    -0.200       0.005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal                       30 29.984     0.016       0.197</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;plant                         0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;sea                           4  0.169     3.831       0.065</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;spiny                         0  0.027    -0.027       0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;plant                         0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;sea                           8  0.000     8.000       0.138</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;spiny                         0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plant&amp;sea                            2  0.000     2.000       0.034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plant&amp;spiny                          9  9.000     0.000       0.059</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sea&amp;spiny                            0  0.062    -0.062       0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;plant                  0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;sea                    0  0.431    -0.431       0.010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;spiny                  0  0.100    -0.100       0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;plant&amp;sea                     0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;plant&amp;spiny                   0  0.176    -0.176       0.004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;sea&amp;spiny                     5  0.018     4.982       0.086</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;plant&amp;sea                     0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;plant&amp;spiny                   0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;sea&amp;spiny                     0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> plant&amp;sea&amp;spiny                      0  0.098    -0.098       0.002</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;plant&amp;sea              0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;plant&amp;spiny            0  0.054    -0.054       0.001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;sea&amp;spiny              0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;plant&amp;sea&amp;spiny               0  0.002    -0.002       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mammal&amp;plant&amp;sea&amp;spiny               0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> animal&amp;mammal&amp;plant&amp;sea&amp;spiny        0  0.000     0.000       0.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0.197 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0.1 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The table method</span></span></span>
<span class="r-in"><span><span class="fu">euler</span><span class="op">(</span><span class="va">pain</span>, factor_names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          original  fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> widespread                    204 204.002    -0.002           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> regional                      229 229.002    -0.002           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> male                           48  48.032    -0.032           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> widespread&amp;regional             0   0.000     0.000           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> widespread&amp;male                78  77.984     0.016           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> regional&amp;male                 143 142.992     0.008           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> widespread&amp;regional&amp;male        0   0.247    -0.247           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A euler diagram from a list of sample spaces (the list method)</span></span></span>
<span class="r-in"><span><span class="fu">euler</span><span class="op">(</span><span class="va">plants</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"erigenia"</span>, <span class="st">"solanum"</span>, <span class="st">"cynodon"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          original fitted residuals regionError</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> erigenia                        0      0         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> solanum                        16     16         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cynodon                         1      1         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> erigenia&amp;solanum                2      2         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> erigenia&amp;cynodon                0      0         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> solanum&amp;cynodon                25     25         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> erigenia&amp;solanum&amp;cynodon       20     20         0           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> diagError: 0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stress:    0 </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Johan Larsson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

